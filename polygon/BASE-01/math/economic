#! /usr/bin/python3
from os import system as SYS
SYS("clear")

import startscreen
startscreen.load("ЭКОНОМИЧЕСКАЯ ЗАДАЧА v0.1", "Данная программа вычисляет \
сумму аннуитетного или дифференцированного платежа.", "3")

# ---------------------------[Блок функций]------------------------------------
# -- аннуитетный платёж
def a(S, n, p):
    b = 1 + p/100
    return round(( ( S * b**n * (b-1) )/( b**n - 1 ) )*n)

# -- дифференцированный
def b(S, n, p):
    X, nn = 0, n
    while nn != 1: X += (nn*S)/n; nn -= 1
    return round(X * (p/100))

# ---------------------------[Основной исполнительный блок]--------------------
# -- Ввод основных данных
S, n, p, pay = 0, 0, 0, ' '
while True:
    S, n, p, pay = int(input("Сумма кредита(от 1 млн рублей): ")),\
                   int(input("Количество лет(от 1 года): ")),\
                   int(input("Год. процент(от 0 до 100 без символа '%'): ")),\
                   input("Вид платежа[a/b]?: \n\
    a -- аннуитетный\n\
    b -- дифференцированный\n")
    
    # проверка введённых данных
    if (S < 1000000) or (n < 1) or (p <= 0 and p > 100) or \
            (pay != 'a' and pay != 'b'):
        print("Вы неверно ввели данные!")
        SYS("sleep 0.5s; clear")
    else: break

# вычисление и вывод результата
SYS("clear")
print('\n', a(S, n, p) if pay=='a' else b(S, n, p), ' руб.', sep='', end='')
print(" при первоначальном кредите в {} руб. в течение {} лет под {}% годовых".format(S, n, p))
input("Нажмите ENTER, чтобы завершить программу...")
SYS("rm -rf __pycache__;clear")
